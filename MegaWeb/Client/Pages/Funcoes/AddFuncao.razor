@page "/addfuncao"
@inject MegaWeb.Client.Services.Interfaces.IFuncaoService funcaoService
@inject NavigationManager NavigationManager
@using MegaWeb.Shared.DTO.FuncaoDtos
@using MegaWeb.Shared.Response

@*<FuncaoComponent Title="Cadastro de Funções" Funcao="Funcao" Save="SaveFuncao" Cancel="Cancelar" />*@

@code {
    FuncaoDto Funcao = new();
    List<FuncaoResponse> funcoes;

    public async Task SaveFuncao()
    {
        await funcaoService.Insert(Funcao);
        NavigationManager.NavigateTo("/");
    }

    public void Cancelar()
    {
        NavigationManager.NavigateTo("/");
    }

    protected override async Task OnInitializedAsync()
    {
        funcoes = await funcaoService.GetAll();
    }
}