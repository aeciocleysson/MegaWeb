@page "/editfuncao/{id}"
@inject MegaWeb.Client.Services.Interfaces.IFuncaoService funcaoService
@inject NavigationManager NavigationManager
@using MegaWeb.Shared.DTO.FuncaoDtos

<FuncaoComponent Title="Cadastro de Funções" Funcao="Funcao" Save="UpdateFuncao" Cancel="Cancelar" />

@code {
    [Parameter]
    public string id { get; set; }

    FuncaoDto Funcao = new();

    public async Task UpdateFuncao()
    {
        await funcaoService.Update(Funcao);
        NavigationManager.NavigateTo("/");
    }

    public void Cancelar()
    {
        NavigationManager.NavigateTo("/");
    }

    protected override async Task OnInitializedAsync()
    {
        Funcao = await funcaoService.GetById(int.Parse(id));
    }
}